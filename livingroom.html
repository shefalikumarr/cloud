<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shefali</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="sidebar.css">
    <link rel="stylesheet" href="livingroom.css">
    <script src="cards-data.js"></script>
</head>
<body class="livingroom-bg">
    <!-- Left Sidebar -->
    <aside class="sidebar">
        <h1 class="site-title">shefali</h1>
        
        <nav class="sidebar-nav">
            <a href="livingroom.html" class="nav-link active">/home</a>
            <a href="diningroom.html" class="nav-link">/photography</a>
            <a href="essays.html" class="nav-link">/essays</a>
            <a href="explorations.html" class="nav-link">/projects</a>
        </nav>

        <div class="filters">
            <h3 class="filters-title">filter</h3>
            <label class="filter-option">
                <input type="checkbox" value="essay" checked> essays
            </label>
            <label class="filter-option">
                <input type="checkbox" value="photo" checked> photography
            </label>
            <label class="filter-option">
                <input type="checkbox" value="project" checked> projects
            </label>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="content-stream">
        <div class="tiles-container" id="tiles-container">
            <!-- Cards will be rendered by JavaScript -->
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const url = 'https://res.cloudinary.com/djfrhmsgw/image/upload/q_auto/DSCN0829_nmnblz.jpg';
            document.body.style.setProperty('--livingroom-bg', `url('${url}')`);

            // Render all cards from centralized data
            renderCards('tiles-container', {
                categories: ['about', 'essay', 'project', 'photo'],
                variant: 'tile',
                sort: true
            });

            // Filter functionality
            const container = document.querySelector('.tiles-container');
            const checkboxes = document.querySelectorAll('.filter-option input');

            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    const activeFilters = Array.from(checkboxes)
                        .filter(cb => cb.checked)
                        .map(cb => cb.value);

                    const tiles = container.querySelectorAll('.content-tile');
                    tiles.forEach(tile => {
                        const category = tile.dataset.category;
                        // Always show "about" tile
                        if (category === 'about' || activeFilters.includes(category)) {
                            tile.style.display = '';
                        } else {
                            tile.style.display = 'none';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
